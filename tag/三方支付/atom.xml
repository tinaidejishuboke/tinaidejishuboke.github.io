<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://github.com/tinaidejishuboke/tinaidejishuboke.github.io</id>
    <title>路宇航的博客 • Posts by &#34;三方支付&#34; tag</title>
    <link href="https://github.com/tinaidejishuboke/tinaidejishuboke.github.io" />
    <updated>2019-02-13T07:17:24.000Z</updated>
    <category term="数据库" />
    <category term="Ant Design" />
    <category term="Python" />
    <category term="Celery" />
    <category term="Docker" />
    <category term="Git" />
    <category term="Redis" />
    <category term="Vue" />
    <category term="python" />
    <category term="三方支付" />
    <category term="算法" />
    <entry>
        <id>https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2019/02/13/%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E4%B8%89%E6%96%B9%E6%94%AF%E4%BB%98/</id>
        <title>简单介绍三方支付</title>
        <link rel="alternate" href="https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2019/02/13/%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E4%B8%89%E6%96%B9%E6%94%AF%E4%BB%98/"/>
        <content type="html">&lt;h2 id=&#34;1安装-pip-install-python-alipay-sdk&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1安装-pip-install-python-alipay-sdk&#34;&gt;#&lt;/a&gt; 1. 安装 pip install python-alipay-sdk&lt;/h2&gt;
&lt;h2 id=&#34;2-支付宝沙箱地址&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-支付宝沙箱地址&#34;&gt;#&lt;/a&gt; 2. 支付宝沙箱地址&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9vcGVuaG9tZS5hbGlwYXkuY29tL3BsYXRmb3JtL2FwcERhaWx5Lmh0bT90YWI9aW5mbw==&#34;&gt;https://openhome.alipay.com/platform/appDaily.htm?tab=info&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.loli.net/2021/01/29/2ebCSJ4Zwj7HfWB.jpg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;下一步&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.loli.net/2021/01/29/qnoZ9uShQBHyevX.jpg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.loli.net/2021/01/29/cAoBjXWNpL9xSn1.jpg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://i.loli.net/2021/01/29/MQdEYWpemur7T4R.jpg&#34; alt=&#34;img&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;下载支付宝开放平台开发助手地址&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#下载支付宝开放平台开发助手地址&#34;&gt;#&lt;/a&gt; 下载支付宝开放平台开发助手地址:&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3AudGIuY24vcm1zcG9ydGFsXzY2ODBfc2VjcmV0X2tleV90b29sc19SU0Ffd2luLnppcA==&#34;&gt;http://p.tb.cn/rmsportal_6680_secret_key_tools_RSA_win.zip&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;private.txt 放置私钥&lt;/p&gt;
&lt;p&gt;public.txt 放置应用公钥&lt;/p&gt;
&lt;p&gt;在 python 中配置好你的公钥 私钥&lt;/p&gt;
&lt;p&gt;配置：&lt;/p&gt;
&lt;figure class=&#34;highlight plain&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;app_private_key_string &amp;#x3D; open(os.path.join(key_dir, &amp;quot;app_private_key.pem&amp;quot;)).read()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;alipay_public_key_string &amp;#x3D; open(os.path.join(key_dir, &amp;quot;alipay_public_key.pem&amp;quot;)).read()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;alipay &amp;#x3D; AliPay(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    appid&amp;#x3D;2016093000630420,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    app_notify_url&amp;#x3D;None,  # 默认回调url&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    # 我的私钥&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    app_private_key_string&amp;#x3D;app_private_key_string,  # 支付宝公钥&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    alipay_public_key_string&amp;#x3D;alipay_public_key_string,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    sign_type&amp;#x3D;&amp;quot;RSA2&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    debug&amp;#x3D;True,  # 打开调试模式&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;电脑支付&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;class AliPayView(APIView):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    def post(self, request):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        order_string &amp;#x3D; alipay.api_alipay_trade_page_pay(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            subject&amp;#x3D;&amp;quot;&amp;quot;,  # 支付的对象&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            out_trade_no&amp;#x3D; 0, # 订单，&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            total_amount&amp;#x3D;0 , # 支付的钱数 订单总金额&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            return_url&amp;#x3D;&amp;quot;&amp;quot;,  # 支付回调的页面&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            notify_url&amp;#x3D;&amp;quot;&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        BASE_URL &amp;#x3D; &amp;quot;https:&amp;#x2F;&amp;#x2F;openapi.alipaydev.com&amp;#x2F;gateway.do?&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        # 构建支付链接&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        return Response(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &amp;#39;alipay_url&amp;#39;: BASE_URL + order_string,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</content>
        <category term="三方支付" />
        <updated>2019-02-13T07:17:24.000Z</updated>
    </entry>
</feed>
