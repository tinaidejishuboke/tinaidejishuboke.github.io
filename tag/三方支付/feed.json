{
    "version": "https://jsonfeed.org/version/1",
    "title": "路宇航的博客 • All posts by \"三方支付\" tag",
    "description": "",
    "home_page_url": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io",
    "items": [
        {
            "id": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2019/02/13/%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E4%B8%89%E6%96%B9%E6%94%AF%E4%BB%98/",
            "url": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2019/02/13/%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%E4%B8%89%E6%96%B9%E6%94%AF%E4%BB%98/",
            "title": "简单介绍三方支付",
            "date_published": "2019-02-13T07:17:24.000Z",
            "content_html": "<h2 id=\"1安装-pip-install-python-alipay-sdk\"><a class=\"markdownIt-Anchor\" href=\"#1安装-pip-install-python-alipay-sdk\">#</a> 1. 安装 pip install python-alipay-sdk</h2>\n<h2 id=\"2-支付宝沙箱地址\"><a class=\"markdownIt-Anchor\" href=\"#2-支付宝沙箱地址\">#</a> 2. 支付宝沙箱地址</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9vcGVuaG9tZS5hbGlwYXkuY29tL3BsYXRmb3JtL2FwcERhaWx5Lmh0bT90YWI9aW5mbw==\">https://openhome.alipay.com/platform/appDaily.htm?tab=info</span></p>\n<p><img data-src=\"https://i.loli.net/2021/01/29/2ebCSJ4Zwj7HfWB.jpg\" alt=\"img\"></p>\n<p>下一步</p>\n<p><img data-src=\"https://i.loli.net/2021/01/29/qnoZ9uShQBHyevX.jpg\" alt=\"img\"></p>\n<p><img data-src=\"https://i.loli.net/2021/01/29/cAoBjXWNpL9xSn1.jpg\" alt=\"img\"></p>\n<p><img data-src=\"https://i.loli.net/2021/01/29/MQdEYWpemur7T4R.jpg\" alt=\"img\"></p>\n<h2 id=\"下载支付宝开放平台开发助手地址\"><a class=\"markdownIt-Anchor\" href=\"#下载支付宝开放平台开发助手地址\">#</a> 下载支付宝开放平台开发助手地址:</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL3AudGIuY24vcm1zcG9ydGFsXzY2ODBfc2VjcmV0X2tleV90b29sc19SU0Ffd2luLnppcA==\">http://p.tb.cn/rmsportal_6680_secret_key_tools_RSA_win.zip</span></p>\n<p>private.txt 放置私钥</p>\n<p>public.txt 放置应用公钥</p>\n<p>在 python 中配置好你的公钥 私钥</p>\n<p>配置：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">app_private_key_string &#x3D; open(os.path.join(key_dir, &quot;app_private_key.pem&quot;)).read()</span><br><span class=\"line\">alipay_public_key_string &#x3D; open(os.path.join(key_dir, &quot;alipay_public_key.pem&quot;)).read()</span><br><span class=\"line\"></span><br><span class=\"line\">alipay &#x3D; AliPay(</span><br><span class=\"line\">    appid&#x3D;2016093000630420,</span><br><span class=\"line\">    app_notify_url&#x3D;None,  # 默认回调url</span><br><span class=\"line\">    # 我的私钥</span><br><span class=\"line\">    app_private_key_string&#x3D;app_private_key_string,  # 支付宝公钥</span><br><span class=\"line\">    alipay_public_key_string&#x3D;alipay_public_key_string,</span><br><span class=\"line\">    sign_type&#x3D;&quot;RSA2&quot;,</span><br><span class=\"line\">    debug&#x3D;True,  # 打开调试模式</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">电脑支付</span><br><span class=\"line\">class AliPayView(APIView):</span><br><span class=\"line\">    def post(self, request):</span><br><span class=\"line\">        order_string &#x3D; alipay.api_alipay_trade_page_pay(</span><br><span class=\"line\">            subject&#x3D;&quot;&quot;,  # 支付的对象</span><br><span class=\"line\">            out_trade_no&#x3D; 0, # 订单，</span><br><span class=\"line\">            total_amount&#x3D;0 , # 支付的钱数 订单总金额</span><br><span class=\"line\">            return_url&#x3D;&quot;&quot;,  # 支付回调的页面</span><br><span class=\"line\">            notify_url&#x3D;&quot;&quot;,</span><br><span class=\"line\">        )</span><br><span class=\"line\">        BASE_URL &#x3D; &quot;https:&#x2F;&#x2F;openapi.alipaydev.com&#x2F;gateway.do?&quot;</span><br><span class=\"line\">        # 构建支付链接</span><br><span class=\"line\">        return Response(</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                &#39;alipay_url&#39;: BASE_URL + order_string,</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        )</span><br></pre></td></tr></table></figure>",
            "tags": [
                "三方支付"
            ]
        }
    ]
}