{
    "version": "https://jsonfeed.org/version/1",
    "title": "路宇航的博客 • All posts by \"数据库\" tag",
    "description": "",
    "home_page_url": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io",
    "items": [
        {
            "id": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2021/04/13/python%E7%9A%84pymongo%E5%B0%81%E8%A3%85%E7%B1%BB/",
            "url": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2021/04/13/python%E7%9A%84pymongo%E5%B0%81%E8%A3%85%E7%B1%BB/",
            "title": "python的pymongo封装类",
            "date_published": "2021-04-13T09:08:06.000Z",
            "content_html": "<h2 id=\"1-创建一个mypymongopy文件\"><a class=\"markdownIt-Anchor\" href=\"#1-创建一个mypymongopy文件\">#</a> 1. 创建一个 MyPyMongo.py 文件</h2>\n<h2 id=\"2-导包\"><a class=\"markdownIt-Anchor\" href=\"#2-导包\">#</a> 2. 导包</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from pymongo import MongoClient</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-创建类\"><a class=\"markdownIt-Anchor\" href=\"#3-创建类\">#</a> 3. 创建类</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class MyMongo:</span><br><span class=\"line\">    def __init__(self, database, collection, **mongo_kwargs):  # database 数据库名  collection 集合名(表) **mongo_kwargs 端口号 地址</span><br><span class=\"line\">        self.data &#x3D; MongoClient(**mongo_kwargs)  # 连接MongoDB</span><br><span class=\"line\">        self.db &#x3D; self.data[database]  # 进入数据库</span><br><span class=\"line\">        self.collection &#x3D; self.db[collection]  # 进入集合(表)</span><br><span class=\"line\"></span><br><span class=\"line\">    def find_one(self, key: dict) -&gt; dict:  # 按条件指定查询</span><br><span class=\"line\">        return self.collection.find_one(key)</span><br><span class=\"line\">    </span><br><span class=\"line\">    def find(self) -&gt; object:  # 查询集合所有数据</span><br><span class=\"line\">        return self.db.find()</span><br><span class=\"line\"></span><br><span class=\"line\">    def insert(self, info: dict) -&gt; None:  # 插入数据</span><br><span class=\"line\">        self.db.insert(info)</span><br></pre></td></tr></table></figure>\n<h2 id=\"4-调用\"><a class=\"markdownIt-Anchor\" href=\"#4-调用\">#</a> 4. 调用</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">m &#x3D; MyMongo(&#39;conn&#39;, &#39;cate_test_set&#39;, **&#123;&#39;host&#39;: &#39;127.0.0.1&#39;, &#39;port&#39;: 27017&#125;)</span><br><span class=\"line\">print(m.find_one(&#123;&#39;name&#39;:&#39;Asia&#39;&#125;))</span><br><span class=\"line\">m.find()</span><br><span class=\"line\">m.insert(&#123;&#39;name1&#39;:&#39;li&#39;&#125;)</span><br></pre></td></tr></table></figure>",
            "tags": [
                "数据库"
            ]
        },
        {
            "id": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2018/09/13/MongoDB%E7%9A%84%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/",
            "url": "https://github.com/tinaidejishuboke/tinaidejishuboke.github.io/2018/09/13/MongoDB%E7%9A%84%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/",
            "title": "MongoDB的基础命令",
            "date_published": "2018-09-13T09:06:37.000Z",
            "content_html": "<h2 id=\"1-什么是mongodb数据库\"><a class=\"markdownIt-Anchor\" href=\"#1-什么是mongodb数据库\">#</a> 1. 什么是 MongoDB 数据库</h2>\n<p>MongoDB 是一个基于分布式文件存储的数据库。由 C++ 语言编写。旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。<br>\nMongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。<br>\n它支持的数据结构非常松散，是类似 json 的 bson 格式，因此可以存储比较复杂的数据类型。<br>\nMongo 最大的特点是它支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，<br>\n几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。</p>\n<h2 id=\"2-mongodb基础命令\"><a class=\"markdownIt-Anchor\" href=\"#2-mongodb基础命令\">#</a> 2. MongoDB 基础命令</h2>\n<h3 id=\"1-显示当前所有数据库\"><a class=\"markdownIt-Anchor\" href=\"#1-显示当前所有数据库\">#</a> 1 显示当前所有数据库</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show dbs 或 show databases</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-创建数据库\"><a class=\"markdownIt-Anchor\" href=\"#2-创建数据库\">#</a> 2 创建数据库</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use 数据库名</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-查看当前所处数据库\"><a class=\"markdownIt-Anchor\" href=\"#3-查看当前所处数据库\">#</a> 3 查看当前所处数据库</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-显示数据库中所有集合\"><a class=\"markdownIt-Anchor\" href=\"#4-显示数据库中所有集合\">#</a> 4 显示数据库中所有集合</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">show collections</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-插入数据\"><a class=\"markdownIt-Anchor\" href=\"#5-插入数据\">#</a> 5. 插入数据</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.collection.insert(&#123;‘name’:’123’&#125;)</span><br><span class=\"line\">db.表名.insert(&#123;‘name’:’123’&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"6-查看所有数据\"><a class=\"markdownIt-Anchor\" href=\"#6-查看所有数据\">#</a> 6. 查看所有数据</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.表名.find()</span><br><span class=\"line\">db.表名.find().preety() # 树状型展示</span><br></pre></td></tr></table></figure>\n<h3 id=\"7-读取指定数据\"><a class=\"markdownIt-Anchor\" href=\"#7-读取指定数据\">#</a> 7. 读取指定数据</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.表名.find_one(&#123;条件&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"8-查看数据库名\"><a class=\"markdownIt-Anchor\" href=\"#8-查看数据库名\">#</a> 8、查看数据库名</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.getName()</span><br></pre></td></tr></table></figure>\n<h3 id=\"9-删除集合\"><a class=\"markdownIt-Anchor\" href=\"#9-删除集合\">#</a> 9. 删除集合</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.集合.drop()</span><br></pre></td></tr></table></figure>\n<h3 id=\"10删除指定数据\"><a class=\"markdownIt-Anchor\" href=\"#10删除指定数据\">#</a> 10. 删除指定数据</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db.集合.update(&#123;&#39;name&#39;:&#39;张三&#39;&#125;,&#123;$unset:&#123;&#39;name&#39;:&#39;张三&#39;&#125;&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-python连接mongodb数据库\"><a class=\"markdownIt-Anchor\" href=\"#3-python连接mongodb数据库\">#</a> 3. python 连接 MongoDB 数据库</h2>\n<h3 id=\"1-下载mongodb包\"><a class=\"markdownIt-Anchor\" href=\"#1-下载mongodb包\">#</a> 1. 下载 mongodb 包</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install pymongo</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-导包\"><a class=\"markdownIt-Anchor\" href=\"#2-导包\">#</a> 2. 导包</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from pymongo import MongoClient</span><br><span class=\"line\">client &#x3D; MongoClient(host&#x3D;&#39;127.0.0.1&#39;, port&#x3D;27017)  # 连接本地mongodb</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-进入指定数据库\"><a class=\"markdownIt-Anchor\" href=\"#3-进入指定数据库\">#</a> 3. 进入指定数据库</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">db &#x3D; client.数据库名  # 进入到数据库(没有则自动创建)</span><br></pre></td></tr></table></figure>\n<h3 id=\"4-进入指定集合\"><a class=\"markdownIt-Anchor\" href=\"#4-进入指定集合\">#</a> 4. 进入指定集合</h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my_set &#x3D; db集合名  # 进入集合(没有则自动创建)</span><br></pre></td></tr></table></figure>\n<h3 id=\"5-使用命令即可\"><a class=\"markdownIt-Anchor\" href=\"#5-使用命令即可\">#</a> 5. 使用命令即可</h3>\n",
            "tags": [
                "数据库"
            ]
        }
    ]
}